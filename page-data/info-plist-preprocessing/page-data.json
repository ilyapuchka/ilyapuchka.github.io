{"componentChunkName":"component---src-templates-blog-post-js","path":"/info-plist-preprocessing/","result":{"data":{"site":{"siteMetadata":{"title":"Ilya Puchka","siteUrl":"https://ilya.puchka.me"}},"markdownRemark":{"id":"15bd9e30-24bf-5a0e-836b-d13c6265993f","excerpt":"This is quiet interesting XCode feature I was not aware of until last week. Maybe you will find it not so interesting and definitely will not use this on…","html":"<p>This is quiet interesting XCode feature I was not aware of until last week. Maybe you will find it not so interesting and definitely will not use this on everyday basis but sometimes it can be helpfull. For example it can be convenient for separation of production and test configurations (some of them).</p>\n<p>In project Build settings you can find section called <em>\"Packaging\"</em> and there are several keys we are interested in:</p>\n<ul>\n<li><strong>Preprocess Info.plist File</strong> (INFOPLIST_PREPROCESS)</li>\n<li><strong>Info.plist Preprocessor Prefix File</strong> (INFOPLIST_PREFIX_HEADER)</li>\n<li><strong>Info.plist Preprocessor Definitions</strong> (INFOPLIST_PREPROCESSOR_DEFINITIONS)</li>\n</ul>\n<p>To enable Info.plist preprocessing INFOPLIST_PREPROCESS setting should be set to YES (default value is NO).<br>\nIn INFOPLIST_PREFIX_HEADER setting you can specify path to files that would be used during preprocessing. I recommend to name these files something like <em>InfoPlistPrefix.Debug.h</em> and <em>InfoPlistPrefix.Release.h</em>. So this setting value will look like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$(PROJECT_DIR)/$(PROJECT_NAME)/Supporting Files/InfoPlistPrefix.$(CONFIGURATION).h</code></pre></div>\n<p>In these files you can define preprocessor macros:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">//InfoPlistPrefix.Debug.h\n#define COPYRIGHT $(CONFIGURATION) build __DATE__  __TIME__.\n\n//InfoPlistPrefix.Release.h\n#define COPYRIGHT Copyright (c) 2014.</code></pre></div>\n<p>Now you can use this macros as a value for a key in Info.plist (i.e. NSHumanReadableCopyright) and during preprocessing it will be replaced by what you've defined:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;key>NSHumanReadableCopyright&lt;/key>\n&lt;string>COPYRIGHT&lt;/string></code></pre></div>\n<p>The same can be achieved using INFOPLIST_PREPROCESSOR_DEFINITIONS but I prefer using prefix files cause it's more readable and clear.</p>\n<p>Using this feature is metter of taste because you can achieve the same results using #ifdef in your code or declaring custom preprocessor macros in Build Settings directly. As for me build settings are for configuring build process. I.e. you can define there app bundle identifier suffix and reference to it in Info.plist. As for Info.plist it is a place for configuring your application, how it looks and behaves.</p>\n<p>Here is one use case that can be arguable - should you place logging level settings in Info.plist. Info.plist can be read and changed even without jailbreak. So user can change your logging level and read all your logs (i.e. API requests). If it's something you don't want to happen use Build Settings so that logging behaviour would be defined at compile time, not at runtime. For the same reason <strong>never</strong> put any private data like your social app keys and secrets in Info.plist.</p>\n<p>And don't forget to clean project after making changes in Info.plist prefix files or Info.plist preprocessor definitions.</p>\n<p>Related links:</p>\n<ol>\n<li><a href=\"https://developer.apple.com/library/ios/documentation/General/Reference/InfoPlistKeyReference/Articles/AboutInformationPropertyListFiles.html\">Apple docs on Information Property List Files</a></li>\n<li><a href=\"https://developer.apple.com/library/mac/technotes/tn2175/_index.html\">Apple tech notes on Info.plist file preprocessing</a></li>\n<li><a href=\"https://developer.apple.com/library/mac/documentation/DeveloperTools/Reference/XcodeBuildSettingRef/1-Build_Setting_Reference/build_setting_ref.html\">Apple docs on Build Settings</a></li>\n<li><a href=\"http://robots.thoughtbot.com/xcode-build-settings-part-1-preprocessing\">Thoughtbot blog post</a></li>\n</ol>","fields":{"slug":"/info-plist-preprocessing/"},"frontmatter":{"id":"5b6f5a3a9d28c70f0f015f5d","title":"Info.plist preprocessing","date":"December 13, 2014","description":"This is quiet interesting XCode feature I was not aware of until last week. Maybe you will find it not so interesting and definitely will not use this on everyday basis but sometimes it can be helpfull. For example it can be convenient for separation of production and test configurations (some of them).","tags":""}},"previous":{"excerpt":"Recently here at Rambler&Co mobile team we decided to try technique of storyboards segregation (separation in other words). We came to the conclusion that this…","fields":{"slug":"/ios-storyboards-segregation/"},"frontmatter":{"title":"iOS storyboards segregation","date":"December 08, 2014"}},"next":{"excerpt":"Probably lately you've seen few posts on this subject like this or that. Both of described techiques share the same secret - how playground is run in Simulator…","fields":{"slug":"/quick-overview-of-swift-playgrounds-in-ios-simulator/"},"frontmatter":{"title":"Quick overview of Swift Playgrounds in iOS Simulator","date":"March 16, 2015"}}},"pageContext":{"id":"15bd9e30-24bf-5a0e-836b-d13c6265993f","previousPostId":"ea36fe89-9adf-54e2-92db-19bee4ddc1ee","nextPostId":"e66628d2-b980-5088-8c7e-87a95c18b2d7"}},"staticQueryHashes":["2355076697","2841359383"],"slicesMap":{}}